---
import Layout from '../../../layouts/Layout.astro';

// Get dynamic route parameters
const { type, id } = Astro.params;

// Validate preview type
const validTypes = ['default', 'mobile', 'desktop', 'tablet', 'signage'];
if (!validTypes.includes(type as string)) {
  return Astro.redirect('/404');
}

// TODO: Fetch content data based on the id
// For now, we'll just display the preview information
---

<Layout>
	<div class="preview-container" data-preview-type={type}>
		<div class="preview-header">
			<h1>Preview: {type}</h1>
			<p class="preview-id">Content ID: {id}</p>
		</div>

		<div class="preview-content">
			<p>Preview content for <strong>{type}</strong> view will be displayed here.</p>
			<p>Content ID: <code>{id}</code></p>
		</div>
	</div>
</Layout>

<style>
	.preview-container {
		padding: 2rem;
		max-width: 1200px;
		margin: 0 auto;
	}

	.preview-header {
		border-bottom: 2px solid #ccc;
		padding-bottom: 1rem;
		margin-bottom: 2rem;
	}

	.preview-header h1 {
		margin: 0 0 0.5rem 0;
		text-transform: capitalize;
	}

	.preview-id {
		color: #666;
		font-size: 0.9rem;
		margin: 0;
	}

	.preview-content {
		padding: 1rem;
		background: #f5f5f5;
		border-radius: 4px;
	}

	.preview-content code {
		background: #fff;
		padding: 0.2rem 0.5rem;
		border-radius: 3px;
		font-family: monospace;
	}

	/* Device-specific styles */
	[data-preview-type="mobile"] .preview-content {
		max-width: 375px;
		margin: 0 auto;
	}

	[data-preview-type="tablet"] .preview-content {
		max-width: 768px;
		margin: 0 auto;
	}

	[data-preview-type="desktop"] .preview-content {
		max-width: 1200px;
	}

	[data-preview-type="signage"] .preview-content {
		max-width: 1920px;
		font-size: 1.5rem;
	}
</style>
